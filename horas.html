<div class="form-group">
    <p>fecha de inicio </p>
      <input id="sdt" value="" type="datetime-local" class="form-control" name="Sdt">
  </div>

  <div class="form-group">
    <p>fecha de finalización</p>
      <input id="edt" value="" type="datetime-local" class="form-control" name="Edt">
  </div>
  <div class="form-group">
    <p>fecha de finalización</p>
      <input id="numbercorrectivo" value="5" type="number" class="form-control" name="numbercorrectivo">
  </div>

  <input id="btnAdded"  onclick="st()" type="button" class="btn btn-primary btn-block" name="sub" value="Start" style="width:100px;width:100px; margin-left:10px;display:flex;justify-content: center;border-radius: 20px;">
  <div class="form-group">
  <p id="demo" style="text-align: center;font-size: 60px;margin-top: 0px; margin-left: 170px;float: left;"></p>
</div>

   <p id="dias" style="text-align: center;font-size: 30px;margin-top: 0px; margin-left: 85px;float: left;"></p>
   <p id="horas" style="text-align: center;font-size: 30px;margin-top: 0px; margin-left: 85px;float: left;"></p>
   <p id="minutos" style="text-align: center;font-size: 30px;margin-top: 0px; margin-left: 85px;float: left;"></p>
   <p id="minutosTotales" style="text-align: center;font-size: 30px;margin-top: 0px; margin-left: 85px;float: left;"></p>
   <div class="form-group"> 
    <p id="hsMtto" style="text-align: center;font-size: 30px;margin-top: 0px; margin-left: 85px;float: left;"></p>
   </div>
   <div class="form-group"> 
    <p id="mttrm" style="text-align: center;font-size: 30px;margin-top: 0px; margin-left: 85px;float: left;"></p>
   </div>
   <div class="form-group"> 
    <p id="mttrhh" style="text-align: center;font-size: 30px;margin-top: 0px; margin-left: 85px;float: left;"></p>
   </div>
  
  <script>
    function getVals (diff) {
      var days = Math.floor(diff / (24 * 60 * 60));
      var hours = Math.floor(diff / (60 * 60)) % 24;
      var minutes = Math.floor(diff / 60) % 60;
     var secs = diff % 60;
     var totalMinutes = ((days * 1440) + (hours * 60) + minutes);
      return {
          days, hours, minutes, secs, totalMinutes,
      };
    }
    function st() {
      var endtime = document.getElementById("edt").valueAsNumber;
      var starttime = document.getElementById("sdt").valueAsNumber;
      var numbercorrectivo = document.getElementById("numbercorrectivo").valueAsNumber;
      var distance = (endtime - starttime)/1000;
      console.log ("diferencia = " + distance);
      var time = getVals(distance);
      var tiempoTotal = time.totalMinutes;
      var time2 =  calcularHorasMinutos(tiempoTotal);
      var mttr = ( time.totalMinutes / numbercorrectivo);
      console.log(Math.round(mttr) + "mttr");
      var time3 =  calcularHorasMinutos(Math.round(mttr));
      

        //mostrar el resultado
        document.getElementById("demo").innerHTML = time.days + "d " + time.hours + "h "+ time.minutes + "m " + time.secs + "s ";
        document.getElementById("dias").innerHTML = time.days + "d ";
        document.getElementById("horas").innerHTML = time.hours + "h ";
        document.getElementById("minutos").innerHTML = time.minutes + "m ";
        document.getElementById("minutosTotales").innerHTML =  time.totalMinutes + " minutos totales";
        document.getElementById("hsMtto").innerHTML = "horas mantenimiento " + time2.horas + ":" + time2.minutos;
        document.getElementById("mttrm").innerHTML =  mttr + " Tiempo medio de reparación (minutos)";
        document.getElementById("mttrhh").innerHTML = "Tiempo medio de reparación (horas) " + time3.horas + ":" + time3.minutos;
       
    }


function calcularHorasMinutos(minutos) {
    if (typeof minutos != 'number' || !Number.isInteger(minutos)) {
        throw TypeError('El argumento debe ser un número.');
    }
    let horas = Math.floor(minutos / 60);
    let minutosRestantes = minutos % 60;
   
    return {
        horas, minutos: minutosRestantes
    };
}


  </script>